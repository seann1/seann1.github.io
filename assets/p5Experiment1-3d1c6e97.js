import{p as n}from"./app-ff942c9d.js";import"./_commonjsHelpers-725317a4.js";let a,x,d=0,h=23e3,r=0;new n(e=>{e.setup=()=>{e.createCanvas(800,600),e.frameRate(10),p(e)},e.draw=()=>{if(e.background(0),a&&x){let i=e.createImage(800,800);i.loadPixels(),a.loadPixels(),x.loadPixels();for(let t=0;t<a.pixels.length;t+=4)if(a.pixels[t+2]<r)for(let l=1;l<40;l++){let o=t-800*l*4;o>=0&&o<i.pixels.length&&(i.pixels[o]=x.pixels[t],i.pixels[o+1]=x.pixels[t+1],i.pixels[o+2]=x.pixels[t+2],i.pixels[o+3]=255)}i.updatePixels(),e.image(i,0,0,e.width,e.height)}e.millis()-d>h&&p(e),r+=1}});function p(e){d=e.millis(),e.loadImage("https://picsum.photos/800/800.jpg",i=>{a=i,x=g(i,e),r=0},()=>{console.log("Failed to load image.")})}function g(e,i){let t=i.createImage(e.width,e.height);e.loadPixels();let s=[];for(let l=0;l<e.pixels.length;l+=4)s.push({r:e.pixels[l],g:e.pixels[l+1],b:e.pixels[l+2],a:e.pixels[l+3]});s.sort((l,o)=>l.b-o.b),t.loadPixels();for(let l=0;l<s.length;l++)t.pixels[l*4]=s[l].r,t.pixels[l*4+1]=s[l].g,t.pixels[l*4+2]=s[l].b,t.pixels[l*4+3]=s[l].a;return t.updatePixels(),t}
